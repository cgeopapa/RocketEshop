@using RocketEshop.Infrastructure.Data.ViewModel
@model IEnumerable<RocketEshop.Infrastructure.Data.ViewModel.GameCSVRecordVM>

@{
    ViewData["Title"] = "CSV Insert";
}

<form asp-controller="Games" asp-action="CsvInsert" method="post" enctype="multipart/form-data">
    <input type="file" name="file"/>
    <hr />
    <button type="submit">Upload</button>
</form>

@if(Model.Count() > 0)
{
    <hr />
    <form asp-controller="Games" asp-action="CsvInsertConfirm" method="post">
        <button class="btn" type="submit">Submit</button>
    </form>
    <table class="table-striped">
        <thead>
        <tr>
            <td>Title</td>
            <td>Price</td>
            <td>ImageUrl</td>
            <td>Quantity</td>
            <td>Rating</td>
            <td>Release Date</td>
            <td>Description</td>
            <td>Genres</td>
        </tr>
        </thead>
        <tbody>
        @foreach (GameCSVRecordVM game in Model)
        {
            <tr>
                <td>@game.Title</td>
                <td>@game.Price</td>
                <td>@game.ImageUrl</td>
                <td>@game.Quantity</td>
                <td>@game.Rating</td>
                <td>@game.ReleaseDate</td>
                <td>@game.Description</td>
                <td>@game.Genres</td>
            </tr>
        }
        </tbody>
    </table>
    <form asp-controller="Games" asp-action="CsvInsertConfirm" method="post">
        <button class="btn" type="submit">Submit</button>
    </form>
}